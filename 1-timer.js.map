{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import iziToast from \"izitoast\";\r\nimport flatpickr from \"flatpickr\";\r\n\r\nimport \"flatpickr/dist/flatpickr.min.css\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n\r\nconst elements = {\r\n  startButton: document.querySelector(\"button[data-start]\"),\r\n  daysDisplay: document.querySelector(\"span[data-days]\"),\r\n  hoursDisplay: document.querySelector(\"span[data-hours]\"),\r\n  minutesDisplay: document.querySelector(\"span[data-minutes]\"),\r\n  secondsDisplay: document.querySelector(\"span[data-seconds]\"),\r\n};\r\n\r\nelements.startButton.disabled = true;\r\nlet selectedDateTime = null;\r\nlet countdownInterval = null;\r\n\r\nconst formatNumber = (value) => String(value).padStart(2, \"0\");\r\n\r\nconst datePickerOptions = {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  defaultDate: new Date(),\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    if (!selectedDates[0]) {\r\n      selectedDateTime = null;\r\n      elements.startButton.disabled = true;\r\n      return;\r\n    }\r\n    selectedDateTime = selectedDates[0];\r\n    if (selectedDateTime <= new Date()) {\r\n      elements.startButton.disabled = true;\r\n      iziToast.error({\r\n        title: \"Error\",\r\n        message: \"Please choose a date in the future\",\r\n        position: \"bottomCenter\",\r\n      });\r\n    } else {\r\n      elements.startButton.disabled = false;\r\n    }\r\n  },\r\n};\r\n\r\nflatpickr(\"#datetime-picker\", datePickerOptions);\r\n\r\nconst calculateTimeRemaining = (ms) => {\r\n  const second = 1000;\r\n  const minute = second * 60;\r\n  const hour = minute * 60;\r\n  const day = hour * 24;\r\n  return {\r\n    days: Math.floor(ms / day),\r\n    hours: Math.floor((ms % day) / hour),\r\n    minutes: Math.floor(((ms % day) % hour) / minute),\r\n    seconds: Math.floor((((ms % day) % hour) % minute) / second),\r\n  };\r\n};\r\n\r\nconst updateCountdownDisplay = () => {\r\n  const currentTime = new Date();\r\n  const timeRemaining = selectedDateTime - currentTime;\r\n\r\n  if (timeRemaining <= 0) {\r\n    clearInterval(countdownInterval);\r\n    Object.values(elements).slice(1).forEach((el) => (el.textContent = \"00\"));\r\n    return;\r\n  }\r\n\r\n  const { days, hours, minutes, seconds } = calculateTimeRemaining(timeRemaining);\r\n  elements.daysDisplay.textContent = formatNumber(days);\r\n  elements.hoursDisplay.textContent = formatNumber(hours);\r\n  elements.minutesDisplay.textContent = formatNumber(minutes);\r\n  elements.secondsDisplay.textContent = formatNumber(seconds);\r\n};\r\n\r\nelements.startButton.addEventListener(\"click\", () => {\r\n  if (!selectedDateTime || selectedDateTime <= new Date()) {\r\n    iziToast.error({\r\n      title: \"Error\",\r\n      message: \"Please choose a date in the future\",\r\n      position: \"bottomCenter\",\r\n    });\r\n    return;\r\n  }\r\n  elements.startButton.disabled = true;\r\n  updateCountdownDisplay();\r\n  countdownInterval = setInterval(updateCountdownDisplay, 1000);\r\n});\r\n"],"names":["elements","selectedDateTime","countdownInterval","formatNumber","value","datePickerOptions","selectedDates","iziToast","flatpickr","calculateTimeRemaining","ms","updateCountdownDisplay","timeRemaining","el","days","hours","minutes","seconds"],"mappings":"+IAMA,MAAMA,EAAW,CACf,YAAa,SAAS,cAAc,oBAAoB,EACxD,YAAa,SAAS,cAAc,iBAAiB,EACrD,aAAc,SAAS,cAAc,kBAAkB,EACvD,eAAgB,SAAS,cAAc,oBAAoB,EAC3D,eAAgB,SAAS,cAAc,oBAAoB,CAC7D,EAEAA,EAAS,YAAY,SAAW,GAChC,IAAIC,EAAmB,KACnBC,EAAoB,KAExB,MAAMC,EAAgBC,GAAU,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,EAEvDC,EAAoB,CACxB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,GAAI,CAACA,EAAc,CAAC,EAAG,CACrBL,EAAmB,KACnBD,EAAS,YAAY,SAAW,GAChC,MACD,CACDC,EAAmBK,EAAc,CAAC,EAC9BL,GAAoB,IAAI,MAC1BD,EAAS,YAAY,SAAW,GAChCO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,cAClB,CAAO,GAEDP,EAAS,YAAY,SAAW,EAEnC,CACH,EAEAQ,EAAU,mBAAoBH,CAAiB,EAE/C,MAAMI,EAA0BC,IAKvB,CACL,KAAM,KAAK,MAAMA,EAAK,KAAG,EACzB,MAAO,KAAK,MAAOA,EAAK,MAAO,IAAI,EACnC,QAAS,KAAK,MAAQA,EAAK,MAAO,KAAQ,GAAM,EAChD,QAAS,KAAK,MAASA,EAAK,MAAO,KAAQ,IAAU,GAAM,CAC/D,GAGMC,EAAyB,IAAM,CAEnC,MAAMC,EAAgBX,EADF,IAAI,KAGxB,GAAIW,GAAiB,EAAG,CACtB,cAAcV,CAAiB,EAC/B,OAAO,OAAOF,CAAQ,EAAE,MAAM,CAAC,EAAE,QAASa,GAAQA,EAAG,YAAc,IAAK,EACxE,MACD,CAED,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYR,EAAuBG,CAAa,EAC9EZ,EAAS,YAAY,YAAcG,EAAaW,CAAI,EACpDd,EAAS,aAAa,YAAcG,EAAaY,CAAK,EACtDf,EAAS,eAAe,YAAcG,EAAaa,CAAO,EAC1DhB,EAAS,eAAe,YAAcG,EAAac,CAAO,CAC5D,EAEAjB,EAAS,YAAY,iBAAiB,QAAS,IAAM,CACnD,GAAI,CAACC,GAAoBA,GAAoB,IAAI,KAAQ,CACvDM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,cAChB,CAAK,EACD,MACD,CACDP,EAAS,YAAY,SAAW,GAChCW,IACAT,EAAoB,YAAYS,EAAwB,GAAI,CAC9D,CAAC"}